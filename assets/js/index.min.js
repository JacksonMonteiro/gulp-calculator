"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Calculator=function(){function r(e,t){_classCallCheck(this,r),this.prevNumTextElement=e,this.currentNumTextElement=t,this.clear()}return _createClass(r,[{key:"clear",value:function(){this.currentNum="",this.prevNum="",this.operation=void 0}},{key:"delete",value:function(){this.currentNum=this.currentNum.toString().slice(0,-1)}},{key:"appendNumber",value:function(e){"."===e&&this.currentNum.includes(".")||(this.currentNum=this.currentNum.toString()+e.toString())}},{key:"choseOperation",value:function(e){""!==this.currentNum&&(""!==this.prevNum&&this.compute(),this.operation=e,this.prevNum=this.currentNum,this.currentNum="")}},{key:"compute",value:function(){var e,t=parseFloat(this.prevNum),r=parseFloat(this.currentNum);if(!isNaN(t)&&!isNaN(r)){switch(this.operation){case"+":e=t+r;break;case"-":e=t-r;break;case"*":e=t*r;break;case"รท":e=t/r;break;default:return}this.currentNum=e,this.operation=void 0,this.prevNum=""}}},{key:"getDisplayedNumber",value:function(e){var t=e.toString(),e=parseFloat(t.split(".")[0]),t=t.split(".")[1],e=isNaN(e)?"":e.toLocaleString("en",{maximumFractionDigits:0});return null!=t?"".concat(e,".").concat(t):e}},{key:"updateDisplay",value:function(){this.currentNumTextElement.innerText=this.getDisplayedNumber(this.currentNum),null!=this.operation?this.prevNumTextElement.innerText="".concat(this.prevNum," ").concat(this.operation):this.prevNumTextElement.innerText=""}}]),r}(),numbers=document.querySelectorAll("[data-number]"),operations=document.querySelectorAll("[data-operation]"),equals=document.querySelector("[data-equals]"),del=document.querySelector("[data-delete]"),ac=document.querySelector("[data-allClear]"),prevNum=document.querySelector("[data-previous-number]"),currentNum=document.querySelector("[data-current-number]"),calculator=new Calculator(prevNum,currentNum);numbers.forEach(function(e){e.addEventListener("click",function(){calculator.appendNumber(e.innerText),calculator.updateDisplay()})}),operations.forEach(function(e){e.addEventListener("click",function(){calculator.choseOperation(e.innerText),calculator.updateDisplay()})}),equals.addEventListener("click",function(){calculator.compute(),calculator.updateDisplay()}),ac.addEventListener("click",function(){calculator.clear(),calculator.updateDisplay()}),del.addEventListener("click",function(){calculator.delete(),calculator.updateDisplay()});